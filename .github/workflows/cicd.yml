name: CI/CD Pipeline - RápidoYa on: push: branches: - develop - main pull_request: branches: - develop - main jobs: build-test-deploy: runs-on: ubuntu-latest steps: - name: 📥 Checkout código uses: actions/checkout@v3 - name: 📦 Setup Node.js uses: actions/setup-node@v3 with: node-version: '18' cache: 'npm' - name: 🔧 Instalar dependencias run: npm ci - name: 🧪 Ejecutar tests run: npm test - name: 📊 Generar reporte de cobertura run: npm test -- --coverage - name: 📦 Build aplicación run: npm run build - name: 🚀 Deploy a Staging if: github.ref == 'refs/heads/develop' run: | echo "Desplegando en Staging..." echo "URL: https://staging.rapidoya.com" - name: 🎉 Deploy a Producción if: github.ref == 'refs/heads/main' run: | echo "Desplegando en Producción..." echo "URL: https://rapidoya.com"
